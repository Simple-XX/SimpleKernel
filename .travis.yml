os: osx
language: c

matrix:
    - os: osx
      env:
        - MATRIX_EVAL="brew install ./tools/i386-elf-gcc.rb && CC=i386-elf-gcc && CXX=i386-elf-g++\
                       brew install ./tools/i386-binutils.rb"

before_install:
    - eval "${MATRIX_EVAL}"

install:
  - i386-elf-gcc
  - i386-elf-as
  - i386-elf-ld

script:
  - cd ./src
  - make

after_script:
  - make clean
